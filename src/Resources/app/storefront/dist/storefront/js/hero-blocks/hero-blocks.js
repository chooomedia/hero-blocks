(()=>{var e={156:e=>{"use strict";var t=function(e){var t;return!!e&&"object"==typeof e&&"[object RegExp]"!==(t=Object.prototype.toString.call(e))&&"[object Date]"!==t&&e.$$typeof!==i},i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a(Array.isArray(e)?[]:{},e,t):e}function o(e,t,i){return e.concat(t).map(function(e){return s(e,i)})}function r(e){return Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[])}function n(e,t){try{return t in e}catch(e){return!1}}function a(e,i,l){(l=l||{}).arrayMerge=l.arrayMerge||o,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=s;var h,c,d=Array.isArray(i);return d!==Array.isArray(e)?s(i,l):d?l.arrayMerge(e,i,l):(c={},(h=l).isMergeableObject(e)&&r(e).forEach(function(t){c[t]=s(e[t],h)}),r(i).forEach(function(t){(!n(e,t)||Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))&&(n(e,t)&&h.isMergeableObject(i[t])?c[t]=(function(e,t){if(!t.customMerge)return a;var i=t.customMerge(e);return"function"==typeof i?i:a})(t,h)(e[t],i[t],h):c[t]=s(i[t],h))}),c)}a.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,i){return a(e,i,t)},{})},e.exports=a},31:e=>{class t{constructor(e){this.element=e,this.nav=e.querySelector(".hero-mega-menu-nav"),this.navItems=e.querySelectorAll(".hero-mega-menu-nav__item--has-children"),this.hoverDelay=150,this.hoverTimeout=null,this.isMobile=window.innerWidth<=991,this.openItems=new Set,this.init()}init(){console.log("[HeroMegaMenu] Initialisiere Mega Menu Plugin"),this.navItems.forEach(e=>{this.initNavItem(e)}),window.addEventListener("resize",this.handleResize.bind(this)),document.addEventListener("click",this.handleOutsideClick.bind(this)),document.addEventListener("keydown",this.handleEscapeKey.bind(this))}initNavItem(e){let t=e.querySelector(".hero-mega-menu-nav__link"),i=e.querySelector(".hero-mega-menu-nav__dropdown");t&&i&&(this.isMobile?t.addEventListener("click",s=>{let o=t.getAttribute("href");e.classList.contains("is--open")?o&&""!==o&&"#"!==o?console.log("[HeroMegaMenu] Mobile: Navigiere zu",o):s.preventDefault():(s.preventDefault(),this.openDropdown(e,t,i),console.log("[HeroMegaMenu] Mobile: Dropdown ge√∂ffnet"))}):(e.addEventListener("mouseenter",s=>{this.handleMouseEnter(e,t,i)}),e.addEventListener("mouseleave",s=>{this.handleMouseLeave(e,t,i)}),t.addEventListener("click",s=>{let o=t.getAttribute("href");o&&""!==o&&"#"!==o?console.log("[HeroMegaMenu] Desktop: Navigiere zu",o):(s.preventDefault(),this.toggleDropdown(e,t,i))})),t.addEventListener("keydown",s=>{this.handleKeyDown(s,e,t,i)}),t.addEventListener("focus",()=>{this.isMobile||this.openDropdown(e,t,i)}))}handleMouseEnter(e,t,i){this.hoverTimeout&&clearTimeout(this.hoverTimeout),this.hoverTimeout=setTimeout(()=>{this.openDropdown(e,t,i)},this.hoverDelay)}handleMouseLeave(e,t,i){this.hoverTimeout&&clearTimeout(this.hoverTimeout),this.hoverTimeout=setTimeout(()=>{this.closeDropdown(e,t,i)},this.hoverDelay)}handleKeyDown(e,t,i,s){let o=t.classList.contains("is--open");switch(e.key){case"Enter":case" ":"true"===i.getAttribute("aria-haspopup")&&(e.preventDefault(),this.toggleDropdown(t,i,s));break;case"Escape":o&&(e.preventDefault(),this.closeDropdown(t,i,s),i.focus());break;case"ArrowDown":o||"true"!==i.getAttribute("aria-haspopup")||(e.preventDefault(),this.openDropdown(t,i,s),this.focusFirstDropdownLink(s));break;case"ArrowUp":o&&(e.preventDefault(),this.closeDropdown(t,i,s))}}openDropdown(e,t,i){this.closeAllDropdowns(),e.classList.add("is--open"),t.setAttribute("aria-expanded","true"),i.setAttribute("aria-hidden","false"),this.openItems.add(e),console.log("[HeroMegaMenu] Dropdown ge√∂ffnet:",t.textContent.trim())}closeDropdown(e,t,i){e.classList.remove("is--open"),t.setAttribute("aria-expanded","false"),i.setAttribute("aria-hidden","true"),this.openItems.delete(e),console.log("[HeroMegaMenu] Dropdown geschlossen:",t.textContent.trim())}toggleDropdown(e,t,i){e.classList.contains("is--open")?this.closeDropdown(e,t,i):this.openDropdown(e,t,i)}closeAllDropdowns(){this.navItems.forEach(e=>{let t=e.querySelector(".hero-mega-menu-nav__link"),i=e.querySelector(".hero-mega-menu-nav__dropdown");t&&i&&this.closeDropdown(e,t,i)}),this.openItems.clear()}handleOutsideClick(e){this.element.contains(e.target)||this.closeAllDropdowns()}handleEscapeKey(e){"Escape"===e.key&&this.closeAllDropdowns()}handleResize(){let e=this.isMobile;this.isMobile=window.innerWidth<=991,e!==this.isMobile&&(console.log("[HeroMegaMenu] Modus gewechselt:",this.isMobile?"Mobile":"Desktop"),this.closeAllDropdowns())}focusFirstDropdownLink(e){let t=e.querySelector("a[href]");t&&t.focus()}destroy(){this.hoverTimeout&&clearTimeout(this.hoverTimeout),this.closeAllDropdowns()}}document.addEventListener("DOMContentLoaded",()=>{console.log("[HeroMegaMenu] DOM Content Loaded");let e=document.querySelectorAll('[data-hero-mega-menu="true"]');console.log("[HeroMegaMenu] Gefundene Mega Menus:",e.length),e.forEach(e=>{new t(e)})}),e.exports&&(e.exports=t),window.HeroMegaMenuPlugin=t}},t={};function i(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=i(156),t=i.n(e);class s{static ucFirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}static lcFirst(e){return e.charAt(0).toLowerCase()+e.slice(1)}static toDashCase(e){return e.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()}static toLowerCamelCase(e,t){let i=s.toUpperCamelCase(e,t);return s.lcFirst(i)}static toUpperCamelCase(e,t){return t?e.split(t).map(e=>s.ucFirst(e.toLowerCase())).join(""):s.ucFirst(e.toLowerCase())}static parsePrimitive(e){try{return/^\d+(.|,)\d+$/.test(e)&&(e=e.replace(",",".")),JSON.parse(e)}catch(t){return e.toString()}}}class o{constructor(e=document){this._el=e,e.$emitter=this,this._listeners=[]}publish(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=new CustomEvent(e,{detail:t,cancelable:i});return this.el.dispatchEvent(s),s}subscribe(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=this,o=e.split("."),r=i.scope?t.bind(i.scope):t;if(i.once&&!0===i.once){let t=r;r=function(i){s.unsubscribe(e),t(i)}}return this.el.addEventListener(o[0],r),this.listeners.push({splitEventName:o,opts:i,cb:r}),!0}unsubscribe(e){let t=e.split(".");return this.listeners=this.listeners.reduce((e,i)=>([...i.splitEventName].sort().toString()===t.sort().toString()?this.el.removeEventListener(i.splitEventName[0],i.cb):e.push(i),e),[]),!0}reset(){return this.listeners.forEach(e=>{this.el.removeEventListener(e.splitEventName[0],e.cb)}),this.listeners=[],!0}get el(){return this._el}set el(e){this._el=e}get listeners(){return this._listeners}set listeners(e){this._listeners=e}}class r{constructor(e,t={},i=!1){if(!(e instanceof Node)){console.warn(`There is no valid element given while trying to create a plugin instance for "${i}".`);return}this.el=e,this.$emitter=new o(this.el),this._pluginName=this._getPluginName(i),this.options=this._mergeOptions(t),this._initialized=!1,this._registerInstance(),this._init()}init(){console.warn(`The "init" method for the plugin "${this._pluginName}" is not defined. The plugin will not be initialized.`)}update(){}_init(){this._initialized||(this.init(),this._initialized=!0)}_update(){this._initialized&&this.update()}_mergeOptions(e){let i=[this.constructor.options,this.options,e];return i.push(this._getConfigFromDataAttribute()),i.push(this._getOptionsFromDataAttribute()),t().all(i.filter(e=>e instanceof Object&&!(e instanceof Array)).map(e=>e||{}))}_getConfigFromDataAttribute(){let e={};if("function"!=typeof this.el.getAttribute)return e;let t=s.toDashCase(this._pluginName),i=this.el.getAttribute(`data-${t}-config`);return i?window.PluginConfigManager.get(this._pluginName,i):e}_getOptionsFromDataAttribute(){let e={};if("function"!=typeof this.el.getAttribute)return e;let t=s.toDashCase(this._pluginName),i=this.el.getAttribute(`data-${t}-options`);if(i)try{return JSON.parse(i)}catch(e){console.error(`The data attribute "data-${t}-options" could not be parsed to json: ${e.message}`)}return e}_registerInstance(){window.PluginManager.getPluginInstancesFromElement(this.el).set(this._pluginName,this),window.PluginManager.getPlugin(this._pluginName,!1).get("instances").push(this)}_getPluginName(e){return e||(e=this.constructor.name),e}}class n{static debounce(e,t){let i,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var o=arguments.length,r=Array(o),n=0;n<o;n++)r[n]=arguments[n];s&&!i&&setTimeout(e.bind(e,...r),0),clearTimeout(i),i=setTimeout(e.bind(e,...r),t)}}}class a{constructor(){this.previousViewport=null,this.currentViewport=a.getCurrentViewport(),this._registerEvents()}_registerEvents(){window.addEventListener("DOMContentLoaded",this._onDOMContentLoaded.bind(this)),window.addEventListener("resize",n.debounce(this._onResize.bind(this),200),{capture:!0,passive:!0})}_onDOMContentLoaded(){this._dispatchEvents()}_onResize(){this._viewportHasChanged(a.getCurrentViewport())&&(this._dispatchEvents(),this._dispatchViewportEvent("Viewport/hasChanged"))}_dispatchEvents(){a.isXS()?this._dispatchViewportEvent("Viewport/isXS"):a.isSM()?this._dispatchViewportEvent("Viewport/isSM"):a.isMD()?this._dispatchViewportEvent("Viewport/isMD"):a.isLG()?this._dispatchViewportEvent("Viewport/isLG"):a.isXL()?this._dispatchViewportEvent("Viewport/isXL"):a.isXXL()&&this._dispatchViewportEvent("Viewport/isXXL")}_viewportHasChanged(e){let t=e!==this.currentViewport;return t&&(this.previousViewport=this.currentViewport,this.currentViewport=e),t}_dispatchViewportEvent(e){document.$emitter.publish(e,{previousViewport:this.previousViewport})}static isXS(){return"XS"===a.getCurrentViewport()}static isSM(){return"SM"===a.getCurrentViewport()}static isMD(){return"MD"===a.getCurrentViewport()}static isLG(){return"LG"===a.getCurrentViewport()}static isXL(){return"XL"===a.getCurrentViewport()}static isXXL(){return"XXL"===a.getCurrentViewport()}static getCurrentViewport(){return window.getComputedStyle(document.documentElement).getPropertyValue("--sw-current-breakpoint").replace(/['"]+/g,"").toUpperCase()}}class l{static isTouchDevice(){return"ontouchstart"in document.documentElement}static isIOSDevice(){return l.isIPhoneDevice()||l.isIPadDevice()}static isNativeWindowsBrowser(){return l.isIEBrowser()||l.isEdgeBrowser()}static isIPhoneDevice(){return!!navigator.userAgent.match(/iPhone/i)}static isIPadDevice(){return!!navigator.userAgent.match(/iPad/i)}static isIEBrowser(){return -1!==navigator.userAgent.toLowerCase().indexOf("msie")||!!navigator.userAgent.match(/Trident.*rv:\d+\./)}static isEdgeBrowser(){return!!navigator.userAgent.match(/Edge\/\d+/i)}static getList(){return{"is-touch":l.isTouchDevice(),"is-ios":l.isIOSDevice(),"is-native-windows":l.isNativeWindowsBrowser(),"is-iphone":l.isIPhoneDevice(),"is-ipad":l.isIPadDevice(),"is-ie":l.isIEBrowser(),"is-edge":l.isEdgeBrowser()}}}class h{static isNode(e){return"object"==typeof e&&null!==e&&(e===document||e===window||e instanceof Node)}static hasAttribute(e,t){if(!h.isNode(e))throw Error("The element must be a valid HTML Node!");return"function"==typeof e.hasAttribute&&e.hasAttribute(t)}static getAttribute(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(i&&!1===h.hasAttribute(e,t))throw Error(`The required property "${t}" does not exist!`);if("function"!=typeof e.getAttribute){if(i)throw Error("This node doesn't support the getAttribute function!");return}return e.getAttribute(t)}static getDataAttribute(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o=t.replace(/^data(|-)/,""),r=s.toLowerCamelCase(o,"-");if(!h.isNode(e)){if(i)throw Error("The passed node is not a valid HTML Node!");return}if(void 0===e.dataset){if(i)throw Error("This node doesn't support the dataset attribute!");return}let n=e.dataset[r];if(void 0===n){if(i)throw Error(`The required data attribute "${t}" does not exist on ${e}!`);return n}return s.parsePrimitive(n)}static querySelector(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(i&&!h.isNode(e))throw Error("The parent node is not a valid HTML Node!");let s=e.querySelector(t)||!1;if(i&&!1===s)throw Error(`The required element "${t}" does not exist in parent node!`);return s}static querySelectorAll(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(i&&!h.isNode(e))throw Error("The parent node is not a valid HTML Node!");let s=e.querySelectorAll(t);if(0===s.length&&(s=!1),i&&!1===s)throw Error(`At least one item of "${t}" must exist in parent node!`);return s}static getFocusableElements(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,t=`
            input:not([tabindex^="-"]):not([disabled]):not([type="hidden"]),
            select:not([tabindex^="-"]):not([disabled]),
            textarea:not([tabindex^="-"]):not([disabled]),
            button:not([tabindex^="-"]):not([disabled]),
            a[href]:not([tabindex^="-"]):not([disabled]),
            [tabindex]:not([tabindex^="-"]):not([disabled])
        `;return e.querySelectorAll(t)}static getFirstFocusableElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return this.getFocusableElements(e)[0]}static getLastFocusableElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=this.getFocusableElements(e);return t[t.length-1]}}class c{static iterate(e,t){if(e instanceof Map||Array.isArray(e))return e.forEach(t);if(e instanceof FormData){for(var i of e.entries())t(i[1],i[0]);return}if(e instanceof NodeList)return e.forEach(t);if(e instanceof HTMLCollection)return Array.from(e).forEach(t);if(e instanceof Object)return Object.keys(e).forEach(i=>{t(e[i],i)});throw Error(`The element type ${typeof e} is not iterable!`)}}class d extends r{static #e=this.options={idleSize:5,approachSizeMin:5,approachSizeMax:7,zoomSize:7,smartZoomMultiplier:1.3,zoomFactor:2.5,smartZoomAdditional:1,smartZoomDelay:1500,approachDistance:150,stillnessThreshold:5,springStiffness:.15,springDamping:.85,productImageSelector:".product-detail-media img, .gallery-slider-image, .gallery-slider-item img, .product-image-wrapper img, [data-smart-magnifier-target]",primaryColor:"#FF5432"};init(){if(l.isTouchDevice()){console.info("[SmartMagnifier] Disabled on touch device");return}if(!this._isDesktop()){console.info("[SmartMagnifier] Disabled on mobile/tablet viewport");return}this._state="idle",this._mouseX=0,this._mouseY=0,this._lensX=0,this._lensY=0,this._velX=0,this._velY=0,this._currentSize=this.options.idleSize,this._currentZoom=this.options.zoomFactor,this._activeImage=null,this._nearestImage=null,this._distanceToImage=1/0,this._smartZoomTimer=null,this._lastMouseX=0,this._lastMouseY=0,this._animationFrame=null,this._imageCache=new Map,this._createLens(),this._cacheProductImages(),this._bindEvents(),this._startAnimation(),console.log("[SmartMagnifier] üîç Initialized")}_isDesktop(){return a.isLG()||a.isXL()||a.isXXL()}_createLens(){this._lens=document.createElement("div"),this._lens.className="hb-magnifier",this._lens.setAttribute("aria-hidden","true"),this._lensImage=document.createElement("img"),this._lensImage.className="hb-magnifier__image",this._lensImage.setAttribute("aria-hidden","true"),this._lensImage.draggable=!1,this._lens.appendChild(this._lensImage),this._zoomLabel=document.createElement("span"),this._zoomLabel.className="hb-magnifier__zoom",this._zoomLabel.textContent=`${this.options.zoomFactor}\xd7`,this._lens.appendChild(this._zoomLabel),this._injectStyles(),document.body.appendChild(this._lens)}_injectStyles(){if(document.getElementById("hb-magnifier-styles"))return;let e=document.createElement("style");e.id="hb-magnifier-styles",e.textContent=`
      /* === Cursor ausblenden wenn aktiv === */
      body.hb-magnifier-active,
      body.hb-magnifier-active * {
        cursor: none !important;
      }

      /* === Hauptelement: Die Lupe === */
      .hb-magnifier {
        position: fixed;
        top: 0;
        left: 0;
        width: ${this.options.idleSize}rem;
        height: ${this.options.idleSize}rem;
        border-radius: 50%;
        overflow: hidden;
        pointer-events: none;
        z-index: 999999;
        
        /* Border & Schatten */
        border: 2px solid rgba(150, 150, 150, 0.3);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        
        /* Hintergrund f\xfcr Idle-State */
        background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.05) 60%, transparent 100%);
        backdrop-filter: blur(1px);
        
        /* Performance */
        will-change: transform, width, height;
        transform: translate(-50%, -50%);
        
        /* Transitions */
        transition: 
          width 0.25s cubic-bezier(0.34, 1.56, 0.64, 1),
          height 0.25s cubic-bezier(0.34, 1.56, 0.64, 1),
          border-color 0.2s ease,
          box-shadow 0.25s ease;
        
        /* Initial versteckt */
        opacity: 0;
      }
      
      .hb-magnifier.is-visible {
        opacity: 1;
      }

      /* === Inneres Bild (vergr\xf6\xdfert) === */
      .hb-magnifier__image {
        position: absolute;
        top: 0;
        left: 0;
        /* Gr\xf6\xdfe wird per JS gesetzt */
        max-width: none;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.15s ease;
      }
      
      .hb-magnifier.is-zooming .hb-magnifier__image {
        opacity: 1;
      }

      /* === Zoom-Level Anzeige === */
      .hb-magnifier__zoom {
        position: absolute;
        bottom: -1.6rem;
        left: 50%;
        transform: translateX(-50%);
        padding: 0.2rem 0.5rem;
        background: rgba(0, 0, 0, 0.7);
        color: white;
        font-size: 0.65rem;
        font-weight: 600;
        font-family: system-ui, -apple-system, sans-serif;
        border-radius: 3px;
        white-space: nowrap;
        opacity: 0;
        transition: opacity 0.2s ease;
      }
      
      .hb-magnifier.is-zooming .hb-magnifier__zoom {
        opacity: 1;
      }
      
      .hb-magnifier.is-smart .hb-magnifier__zoom {
        background: linear-gradient(135deg, ${this.options.primaryColor} 0%, #ff7b5a 100%);
      }

      /* === State: Approaching (in der N\xe4he) === */
      .hb-magnifier.is-approaching {
        border-color: ${this.options.primaryColor};
        box-shadow: 
          0 0 30px rgba(255, 84, 50, 0.25),
          0 4px 20px rgba(0, 0, 0, 0.15);
        animation: hb-magnifier-breathe 2s ease-in-out infinite;
      }

      /* === State: Zooming (\xfcber Bild) === */
      .hb-magnifier.is-zooming {
        border-color: ${this.options.primaryColor};
        background: transparent;
        backdrop-filter: none;
        box-shadow: 
          0 0 40px rgba(255, 84, 50, 0.3),
          0 8px 30px rgba(0, 0, 0, 0.2);
      }

      /* === State: Smart Zoom (nach Stillstand) === */
      .hb-magnifier.is-smart {
        border-width: 3px;
        border-color: ${this.options.primaryColor};
        box-shadow: 
          0 0 60px rgba(255, 84, 50, 0.4),
          0 0 0 4px rgba(255, 84, 50, 0.1),
          0 12px 40px rgba(0, 0, 0, 0.25);
        animation: hb-magnifier-pulse 1.5s ease-in-out infinite;
      }

      /* === Animationen === */
      @keyframes hb-magnifier-breathe {
        0%, 100% { transform: translate(-50%, -50%) scale(1); }
        50% { transform: translate(-50%, -50%) scale(1.08); }
      }
      
      @keyframes hb-magnifier-pulse {
        0%, 100% { 
          transform: translate(-50%, -50%) scale(1);
          box-shadow: 0 0 60px rgba(255, 84, 50, 0.4), 0 0 0 4px rgba(255, 84, 50, 0.1);
        }
        50% { 
          transform: translate(-50%, -50%) scale(1.03);
          box-shadow: 0 0 80px rgba(255, 84, 50, 0.5), 0 0 0 8px rgba(255, 84, 50, 0.15);
        }
      }

      /* === Reduced Motion === */
      @media (prefers-reduced-motion: reduce) {
        .hb-magnifier,
        .hb-magnifier.is-approaching,
        .hb-magnifier.is-smart {
          animation: none !important;
          transition: none !important;
        }
      }

      /* === Mobile: Ausblenden === */
      @media (max-width: 991px) {
        .hb-magnifier { display: none !important; }
        body.hb-magnifier-active * { cursor: auto !important; }
      }
    `,document.head.appendChild(e)}_cacheProductImages(){try{let e=h.querySelectorAll(document,this.options.productImageSelector,!1);c.iterate(e,e=>{let t=this._getHighResUrl(e);this._imageCache.set(e,{highRes:t,preloaded:!1});let i=new Image;i.onload=()=>{let t=this._imageCache.get(e);t&&(t.preloaded=!0,t.naturalWidth=i.naturalWidth,t.naturalHeight=i.naturalHeight)},i.src=t})}catch(e){console.info("[SmartMagnifier] No product images found on this page")}}_getHighResUrl(e){if(e.srcset){let t=e.srcset.split(",").map(e=>{let[t,i]=e.trim().split(/\s+/),s=1;return i?.endsWith("w")?s=parseInt(i):i?.endsWith("x")&&(s=1e3*parseFloat(i)),{url:t,size:s}});if(t.sort((e,t)=>t.size-e.size),t[0])return t[0].url}return e.currentSrc||e.src}_bindEvents(){this._debouncedProximityCheck=n.debounce(this._checkProximity.bind(this),16),document.addEventListener("mousemove",this._onMouseMove.bind(this),{passive:!0}),document.addEventListener("mouseenter",this._onDocEnter.bind(this)),document.addEventListener("mouseleave",this._onDocLeave.bind(this));try{let e=h.querySelectorAll(document,this.options.productImageSelector,!1);c.iterate(e,e=>{e.addEventListener("mouseenter",this._onImgEnter.bind(this)),e.addEventListener("mouseleave",this._onImgLeave.bind(this))})}catch(e){}this._observer=new MutationObserver(e=>{c.iterate(e,e=>{c.iterate(e.addedNodes,e=>{if(1===e.nodeType&&e.querySelectorAll){let t=e.querySelectorAll(this.options.productImageSelector);c.iterate(t,e=>{e.addEventListener("mouseenter",this._onImgEnter.bind(this)),e.addEventListener("mouseleave",this._onImgLeave.bind(this)),this._cacheImage(e)})}})})}),this._observer.observe(document.body,{childList:!0,subtree:!0})}_cacheImage(e){if(this._imageCache.has(e))return;let t=this._getHighResUrl(e);this._imageCache.set(e,{highRes:t,preloaded:!1});let i=new Image;i.onload=()=>{let t=this._imageCache.get(e);t&&(t.preloaded=!0,t.naturalWidth=i.naturalWidth,t.naturalHeight=i.naturalHeight)},i.src=t}_onMouseMove(e){this._mouseX=e.clientX,this._mouseY=e.clientY,this._checkProximity(),this._checkStillness()}_onDocEnter(){document.body.classList.add("hb-magnifier-active"),this._lens.classList.add("is-visible")}_onDocLeave(){document.body.classList.remove("hb-magnifier-active"),this._lens.classList.remove("is-visible"),this._setState("idle")}_onImgEnter(e){this._activeImage=e.target,this._setState("zooming");let t=this._imageCache.get(e.target);t&&(this._lensImage.src=t.highRes)}_onImgLeave(){this._activeImage=null,this._clearSmartZoom(),this._checkProximity()}_checkProximity(){if(!this._activeImage)try{let e=h.querySelectorAll(document,this.options.productImageSelector,!1),t=1/0;c.iterate(e,e=>{let i=e.getBoundingClientRect(),s=i.left+i.width/2,o=i.top+i.height/2,r=this._mouseX-s,n=this._mouseY-o,a=Math.sqrt(r*r+n*n);a<t&&(t=a)}),this._distanceToImage=t,t<=this.options.approachDistance?this._setState("approaching"):this._setState("idle")}catch(e){this._setState("idle")}}_checkStillness(){if("zooming"!==this._state){this._clearSmartZoom();return}let e=Math.abs(this._mouseX-this._lastMouseX),t=Math.abs(this._mouseY-this._lastMouseY);e>this.options.stillnessThreshold||t>this.options.stillnessThreshold?(this._lastMouseX=this._mouseX,this._lastMouseY=this._mouseY,this._clearSmartZoom(),"smartZoom"===this._state&&this._setState("zooming")):this._smartZoomTimer||"zooming"!==this._state||(this._smartZoomTimer=setTimeout(()=>this._activateSmartZoom(),this.options.smartZoomDelay))}_activateSmartZoom(){"zooming"===this._state&&(this._setState("smartZoom"),this._currentZoom=this.options.zoomFactor+this.options.smartZoomAdditional,this._zoomLabel.textContent=`${this._currentZoom}\xd7`)}_clearSmartZoom(){this._smartZoomTimer&&(clearTimeout(this._smartZoomTimer),this._smartZoomTimer=null),this._currentZoom=this.options.zoomFactor,this._zoomLabel.textContent=`${this._currentZoom}\xd7`}_setState(e){if(this._state!==e){switch(this._state=e,this._lens.classList.remove("is-approaching","is-zooming","is-smart"),e){case"idle":this._currentSize=this.options.idleSize;break;case"approaching":this._lens.classList.add("is-approaching"),this._currentSize=(this.options.approachSizeMin+this.options.approachSizeMax)/2;break;case"zooming":this._lens.classList.add("is-zooming"),this._currentSize=this.options.zoomSize,this._currentZoom=this.options.zoomFactor,this._zoomLabel.textContent=`${this._currentZoom}\xd7`;break;case"smartZoom":this._lens.classList.add("is-zooming","is-smart"),this._currentSize=this.options.zoomSize*this.options.smartZoomMultiplier}this._lens.style.width=`${this._currentSize}rem`,this._lens.style.height=`${this._currentSize}rem`}}_startAnimation(){let e=()=>{let t=this._mouseX-this._lensX,i=this._mouseY-this._lensY;this._velX+=t*this.options.springStiffness,this._velY+=i*this.options.springStiffness,this._velX*=this.options.springDamping,this._velY*=this.options.springDamping,this._lensX+=this._velX,this._lensY+=this._velY,this._lens.style.left=`${this._lensX}px`,this._lens.style.top=`${this._lensY}px`,("zooming"===this._state||"smartZoom"===this._state)&&this._activeImage&&this._renderZoom(),this._animationFrame=requestAnimationFrame(e)};this._animationFrame=requestAnimationFrame(e)}_renderZoom(){let e=this._activeImage;if(!e)return;let t=e.getBoundingClientRect();this._imageCache.get(e);let i=(this._lensX-t.left)/t.width,s=(this._lensY-t.top)/t.height,o=Math.max(0,Math.min(1,i)),r=Math.max(0,Math.min(1,s)),n=16*this._currentSize,a=t.width*this._currentZoom,l=t.height*this._currentZoom;this._lensImage.style.width=`${a}px`,this._lensImage.style.height=`${l}px`,this._lensImage.style.left=`${-(o*a)+n/2}px`,this._lensImage.style.top=`${-(r*l)+n/2}px`}destroy(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this._smartZoomTimer&&(clearTimeout(this._smartZoomTimer),this._smartZoomTimer=null),this._observer&&(this._observer.disconnect(),this._observer=null),this._lens?.parentNode&&(this._lens.parentNode.removeChild(this._lens),this._lens=null),document.body.classList.remove("hb-magnifier-active"),this._imageCache.clear(),super.destroy()}}class u extends r{static #e=this.options={parallaxIntensity:.3,parallaxAngle:33,elementAnimationOffset:100,elementAnimationDuration:800,backgroundSelector:".hero-two-columns-background",backgroundLeftSelector:".hero-two-columns-background--left",backgroundRightSelector:".hero-two-columns-background--right",elementWrapperSelector:".hero-two-columns-element-wrapper",imageContainerSelector:".cms-image-container",dataParallaxBackground:"data-parallax-background",dataScrollAnimate:"data-scroll-animate",dataScrollAnimationAngle:"data-scroll-animation-angle",dataScrollAnimationEnabled:"data-scroll-animation-enabled",dataTranslateX:"data-translate-x",dataTranslateY:"data-translate-y",dataImageContainerCss:"data-image-container-css",dataCustomCss:"data-custom-css"};init(){this.block=this.el,this.backgroundLeft=h.querySelector(this.block,this.options.backgroundLeftSelector,!1),this.backgroundRight=h.querySelector(this.block,this.options.backgroundRightSelector,!1),this.elementWrappers=h.querySelectorAll(this.block,this.options.elementWrapperSelector,!1),this.parallaxEnabled=this._isParallaxEnabled(),this.elementAnimationsEnabled=this._hasElementAnimations(),this._onScroll=this._onScroll.bind(this),this._onResize=this._onResize.bind(this),(this.parallaxEnabled||this.elementAnimationsEnabled)&&(this._registerEvents(),this._onScroll()),this._applyCustomCss()}_applyCustomCss(){if(!this.elementWrappers||0===this.elementWrappers.length)return;let e=this._isMobileViewport();for(let t of this.elementWrappers){if(!e){let e=t.getAttribute(this.options.dataCustomCss);e&&this._applyCssString(t,e)}let i=t.getAttribute(this.options.dataImageContainerCss);if(i){let s=t.querySelectorAll(".cms-image-container, .cms-element-image .cms-image-container");if(s.length>0)for(let t of s)e||(this._applyCssString(t,i),t.setAttribute("data-custom-css-applied","true"));else{let s=t.querySelector(this.options.imageContainerSelector);s&&!e&&(this._applyCssString(s,i),s.setAttribute("data-custom-css-applied","true"))}}}}_applyCssString(e,t){if(e&&t)for(let i of t.split(";").filter(e=>e.trim())){let[t,s]=i.split(":").map(e=>e.trim());if(t&&s){let i=t.replace(/-([a-z])/g,e=>e[1].toUpperCase());e.style[i]=s}}}_isMobileViewport(){return window.innerWidth<768}_registerEvents(){let e=!1;window.addEventListener("scroll",()=>{e||(window.requestAnimationFrame(()=>{this._onScroll(),e=!1}),e=!0)});let t=!1;window.addEventListener("resize",()=>{t||(window.requestAnimationFrame(()=>{this._onResize(),t=!1}),t=!0)}),this._onScroll()}_onResize(){this._resetCustomCss(),this._applyCustomCss()}_resetCustomCss(){if(this.elementWrappers&&0!==this.elementWrappers.length)for(let e of this.elementWrappers){let t=e.querySelector(this.options.imageContainerSelector);if(t){let i=e.getAttribute(this.options.dataImageContainerCss);i&&this._removeCssProperties(t,i)}let i=e.getAttribute(this.options.dataCustomCss);i&&this._removeCssProperties(e,i)}}_removeCssProperties(e,t){if(e&&t)for(let i of t.split(";").filter(e=>e.trim())){let[t]=i.split(":").map(e=>e.trim());if(t){let i=t.replace(/-([a-z])/g,e=>e[1].toUpperCase());e.style[i]=""}}}_onScroll(){this.parallaxEnabled&&this._updateParallax(),this.elementAnimationsEnabled&&this._updateElementAnimations()}_isParallaxEnabled(){return(!!this.backgroundLeft||!!this.backgroundRight)&&(!this.backgroundLeft||"false"!==this.backgroundLeft.getAttribute(this.options.dataScrollAnimationEnabled))&&(!this.backgroundRight||"false"!==this.backgroundRight.getAttribute(this.options.dataScrollAnimationEnabled))}_hasElementAnimations(){if(!this.elementWrappers||0===this.elementWrappers.length)return!1;for(let e of this.elementWrappers)if("true"===e.getAttribute(this.options.dataScrollAnimate))return!0;return!1}_updateParallax(){let e=this.block.getBoundingClientRect(),t=e.top,i=e.height,s=window.innerHeight;if(t>s||t+i<0)return;let o=(s-t)/(s+i);if(this.backgroundLeft){let e=this._getParallaxAngle(this.backgroundLeft),t=this._calculateParallaxOffset(o,e);this.backgroundLeft.style.transform=`translateY(${t}px) rotate(${e}deg)`}if(this.backgroundRight){let e=this._getParallaxAngle(this.backgroundRight),t=-this._calculateParallaxOffset(o,e);this.backgroundRight.style.transform=`translateY(${t}px) rotate(${e}deg)`}}_getParallaxAngle(e){let t=e.getAttribute(this.options.dataScrollAnimationAngle);return t?parseFloat(t):this.options.parallaxAngle}_calculateParallaxOffset(e,t){return(e-.5)*100*Math.abs(Math.sin(t*Math.PI/180))*this.options.parallaxIntensity*2}_updateElementAnimations(){if(!this.elementWrappers||0===this.elementWrappers.length)return;let e=window.innerHeight;for(let t of this.elementWrappers){if("true"!==t.getAttribute(this.options.dataScrollAnimate))continue;let i=t.getBoundingClientRect(),s=i.top;i.height,s<e-this.options.elementAnimationOffset&&!t.classList.contains("is--animated")&&this._animateElement(t)}}_animateElement(e){let t=e.getAttribute(this.options.dataTranslateX)||"0",i=e.getAttribute(this.options.dataTranslateY)||"0";e.style.opacity="0",e.style.transform=`translate(${t}px, ${i}px)`,e.style.transition=`opacity ${this.options.elementAnimationDuration}ms ease-out, transform ${this.options.elementAnimationDuration}ms ease-out`,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.style.opacity="1",e.style.transform="translate(0, 0)",e.classList.add("is--animated")})})}}class m extends r{static #e=this.options={pauseOnScroll:!0,playOnVisible:!0,visibilityThreshold:.15,videoSelector:"video",overlaySelector:"[data-overlay-animate]",animatedClass:"is-animated"};init(){this._debug="localhost"===window.location.hostname,this._debug&&console.log("[HeroVideoExtended] Plugin initializing"),this.block=this.el,this.video=h.querySelector(this.block,this.options.videoSelector,!1),this.overlay=h.querySelector(this.block,this.options.overlaySelector,!1),this._readDataAttributes(),this._debug&&(console.log("[HeroVideoExtended] Video:",this.video),console.log("[HeroVideoExtended] Overlay:",this.overlay),console.log("[HeroVideoExtended] Scroll Animation Enabled:",this._scrollAnimationEnabled)),this._isVisible=!1,this.overlay&&(this._updateOverlayHeight(),this._initResizeObserver()),this._setupIntersectionObserver(),this.video&&this._ensureAutoplay()}_updateOverlayHeight(){if(!this.overlay)return;let e=this.overlay.offsetHeight;this.overlay.style.setProperty("--overlay-height",`${e}px`),this._debug&&console.log(`[HeroVideoExtended] Set --overlay-height: ${e}px`)}_initResizeObserver(){this.overlay&&"undefined"!=typeof ResizeObserver&&(this._resizeObserver=new ResizeObserver(()=>{this._updateOverlayHeight()}),this._resizeObserver.observe(this.overlay))}_readDataAttributes(){let e=this.block.dataset.pauseOnScroll;"true"===e?this.options.pauseOnScroll=!0:"false"===e&&(this.options.pauseOnScroll=!1);let t=this.block.dataset.autoplay;this._autoplayEnabled="false"!==t;let i=this.block.dataset.enableScrollAnimation,s=this.overlay&&this.overlay.hasAttribute("data-overlay-animate");this._scrollAnimationEnabled="true"===i||!0===i||s}_setupIntersectionObserver(){let e={root:null,rootMargin:"0px",threshold:this.options.visibilityThreshold};this.observer=new IntersectionObserver(e=>{e.forEach(e=>{let t=e.isIntersecting;this._debug&&console.log("[HeroVideoExtended] Intersection:",t,"wasVisible:",this._isVisible),t&&!this._isVisible?(this._isVisible=!0,this.overlay&&this._scrollAnimationEnabled&&this._animateOverlayIn(),this.video&&this.options.playOnVisible&&this._autoplayEnabled&&this._playVideo()):!t&&this._isVisible&&(this._isVisible=!1,this.overlay&&this._scrollAnimationEnabled&&this._animateOverlayOut(),this.video&&this.options.pauseOnScroll&&this._pauseVideo())})},e),this.observer.observe(this.block),this._debug&&console.log("[HeroVideoExtended] Intersection Observer setup complete")}_animateOverlayIn(){this.overlay&&(this._debug&&console.log("[HeroVideoExtended] Animating overlay IN"),requestAnimationFrame(()=>{this.overlay.classList.add(this.options.animatedClass)}))}_animateOverlayOut(){this.overlay&&(this._debug&&console.log("[HeroVideoExtended] Animating overlay OUT"),this.overlay.classList.remove(this.options.animatedClass))}_ensureAutoplay(){if(this.video.hasAttribute("autoplay")&&this._autoplayEnabled){this.video.muted=!0;let e=this.video.play();void 0!==e&&e.then(()=>{this._debug&&console.log("[HeroVideoExtended] Video autoplay started")}).catch(e=>{this._debug&&console.warn("[HeroVideoExtended] Autoplay failed:",e)})}}_playVideo(){if(this.video&&this.video.paused){let e=this.video.play();void 0!==e&&e.then(()=>{this._debug&&console.log("[HeroVideoExtended] Video playing at",this.video.currentTime)}).catch(e=>{this._debug&&console.warn("[HeroVideoExtended] Play failed:",e)})}}_pauseVideo(){this.video&&!this.video.paused&&(this.video.pause(),this._debug&&console.log("[HeroVideoExtended] Video paused at",this.video.currentTime))}destroy(){this.observer&&this.observer.disconnect(),this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null),super.destroy()}}class p extends r{static #e=this.options={itemSelector:"[data-timeline-item]",yearBtnSelector:".hero-timeline__year-btn",activeBadgeSelector:"[data-timeline-active-badge]",verticalLineSelector:"[data-timeline-vertical-line]",contentAreaSelector:"[data-timeline-content-area]",slideSelector:".hero-timeline__slide",dotSelector:".hero-timeline__dot",prevSelector:".hero-timeline__nav--prev",nextSelector:".hero-timeline__nav--next",activeClass:"is--active",visibleClass:"is--visible",animatingInClass:"is--animating-in",closingClass:"is--closing",animationDuration:800,transitionDelay:300,verticalLineHeight:60};init(){this.items=Array.from(this.el.querySelectorAll(this.options.itemSelector)),this.yearBtns=Array.from(this.el.querySelectorAll(this.options.yearBtnSelector)),this.activeBadge=this.el.querySelector(this.options.activeBadgeSelector),this.verticalLine=this.el.querySelector(this.options.verticalLineSelector),this.contentArea=this.el.querySelector(this.options.contentAreaSelector),this.activeIndex=-1,this.isAnimating=!1,this.sliders=new Map,this._registerEvents(),this._initSliders(),this._initFirstItem()}_initFirstItem(){this.items.length>0&&this._activateItem(0)}_registerEvents(){this.yearBtns.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let i=parseInt(e.dataset.timelineIndex,10);isNaN(i)||this._activateItem(i)})})}_initSliders(){this.items.forEach((e,t)=>{let i=Array.from(e.querySelectorAll(this.options.slideSelector)),s=Array.from(e.querySelectorAll(this.options.dotSelector)),o=e.querySelector(this.options.prevSelector),r=e.querySelector(this.options.nextSelector);0!==i.length&&(this.sliders.set(t,{slides:i,dots:s,currentSlide:0}),i.forEach((e,t)=>{e.classList.toggle(this.options.activeClass,0===t)}),s.forEach((e,t)=>{e.classList.toggle(this.options.activeClass,0===t)}),o&&o.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this._prevSlide(t)}),r&&r.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this._nextSlide(t)}),s.forEach((e,i)=>{e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this._goToSlide(t,i)})}))})}_activateItem(e){if(e===this.activeIndex||this.isAnimating||e<0||e>=this.items.length)return;this.isAnimating=!0;let t=this.items[e],i=this.yearBtns[e],s=i?.dataset.year||"----";if(this.activeIndex>=0){let e=this.items[this.activeIndex],t=this.yearBtns[this.activeIndex];e.classList.add(this.options.closingClass),e.classList.remove(this.options.activeClass),t?.classList.remove(this.options.activeClass),setTimeout(()=>{e.classList.remove(this.options.closingClass),e.style.display="none"},this.options.transitionDelay)}this.contentArea&&(this.contentArea.style.display="",this.contentArea.classList.add(this.options.visibleClass)),this.activeBadge&&(this.activeBadge.textContent=s,this.activeBadge.style.opacity="1",this.activeBadge.classList.add(this.options.visibleClass)),this.verticalLine&&(this.verticalLine.style.height=`${this.options.verticalLineHeight}px`),setTimeout(()=>{t.style.display="",requestAnimationFrame(()=>{t.classList.add(this.options.activeClass,this.options.animatingInClass),i?.classList.add(this.options.activeClass)}),this.activeIndex=e,setTimeout(()=>{t.classList.remove(this.options.animatingInClass),this.isAnimating=!1},this.options.animationDuration)},this.activeIndex>=0?this.options.transitionDelay:0)}_prevSlide(e){let t=this.sliders.get(e);if(!t||t.slides.length<=1)return;let i=0===t.currentSlide?t.slides.length-1:t.currentSlide-1;this._goToSlide(e,i)}_nextSlide(e){let t=this.sliders.get(e);if(!t||t.slides.length<=1)return;let i=t.currentSlide===t.slides.length-1?0:t.currentSlide+1;this._goToSlide(e,i)}_goToSlide(e,t){let i=this.sliders.get(e);i&&t!==i.currentSlide&&(i.slides.forEach((e,i)=>{e.classList.toggle(this.options.activeClass,i===t)}),i.dots.forEach((e,i)=>{e.classList.toggle(this.options.activeClass,i===t)}),i.currentSlide=t)}}if(i(31),void 0!==window.PluginManager&&window.PluginManager){window.PluginManager.register("HeroTwoColumnsParallax",u,".cms-block-hero-two-columns"),console.warn('[HeroBlocks] Plugin "HeroTwoColumnsParallax" registered successfully'),window.PluginManager.register("HeroVideoExtended",m,"[data-hero-video-extended]"),console.warn('[HeroBlocks] Plugin "HeroVideoExtended" registered successfully');try{p?(window.PluginManager.register("HeroTimeline",p,"[data-hero-timeline]"),console.warn('[HeroBlocks] Plugin "HeroTimeline" registered successfully')):console.error("[HeroBlocks] HeroTimelinePlugin is undefined")}catch(e){console.error("[HeroBlocks] Error registering HeroTimeline plugin:",e)}try{d&&(window.PluginManager.register("SmartMagnifier",d,"[data-smart-magnifier]"),console.warn('[HeroBlocks] Plugin "SmartMagnifier" registered successfully'))}catch(e){console.error("[HeroBlocks] Error registering SmartMagnifier plugin:",e)}console.warn("[HeroBlocks] ‚úÖ All plugins registered successfully")}else console.error("[HeroBlocks] ‚ùå PluginManager not available! Cannot register plugins."),console.error("[HeroBlocks] This is usually caused by:"),console.error("[HeroBlocks] 1. Theme JavaScript errors"),console.error("[HeroBlocks] 2. Missing Shopware Core JavaScript"),console.error("[HeroBlocks] 3. Incorrect build configuration")})()})();