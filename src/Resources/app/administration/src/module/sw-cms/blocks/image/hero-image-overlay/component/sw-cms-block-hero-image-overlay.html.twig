{% block sw_cms_block_hero_image_overlay %}
<div class="sw-cms-block-hero-image-overlay">
    {# Background Image Slot - mit reaktiver object-position #}
    <div class="sw-cms-block-hero-image-overlay__image" :style="{ '--image-object-position': imageHorizontalAlign + ' ' + imageVerticalAlign }">
        <slot name="image">
            <sw-cms-slot name="image" :block="block" />
        </slot>
    </div>
    
    {# Text Overlay Panel with angled edge - REAKTIV: Styles und Position werden live aktualisiert #}
    <div 
        class="sw-cms-block-hero-image-overlay__overlay"
        :class="overlayClasses"
        :style="overlayStyles"
    >
        <div class="sw-cms-block-hero-image-overlay__overlay-content">
            {# NEU: Content aus textOverlay Slot (sprachabhängig!) #}
            <div v-if="overlayContent" 
                 class="sw-cms-block-hero-image-overlay__content-wrapper"
                 :style="{ color: overlayTextColor }"
                 v-html="overlayContent">
            </div>
            
            {# FALLBACK: Alte customFields Daten (für Migration) #}
            <template v-else-if="overlayHeadline || overlayText">
                <h3 v-if="overlayHeadline" 
                    class="sw-cms-block-hero-image-overlay__headline"
                    :style="{ color: overlayTextColor }">
                    {{ overlayHeadline }}
                </h3>
                <div v-if="overlayText" 
                     class="sw-cms-block-hero-image-overlay__text"
                     :style="{ color: overlayTextColor }"
                     v-html="overlayText">
                </div>
            </template>
            
            {# Placeholder wenn kein Content #}
            <template v-if="!hasContent">
                <h3 class="sw-cms-block-hero-image-overlay__headline sw-cms-block-hero-image-overlay__headline--placeholder"
                    :style="{ color: overlayTextColor }">
                    {{ $tc('sw-cms.blocks.heroBlocks.heroImageOverlay.placeholder.headline') }}
                </h3>
                <p class="sw-cms-block-hero-image-overlay__text sw-cms-block-hero-image-overlay__text--placeholder"
                   :style="{ color: overlayTextColor }">
                    {{ $tc('sw-cms.blocks.heroBlocks.heroImageOverlay.placeholder.text') }}
                </p>
            </template>
        </div>
    </div>
</div>
{% endblock %}

